(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2675],{680:function(e,a,s){Promise.resolve().then(s.bind(s,1523))},1523:function(e,a,s){"use strict";s.r(a);var r=s(3827),t=s(4090);s(1251),s(2728);var c=s(2315),n=s(7908),i=s(1555),o=s(3411),l=s.n(o);let d=[{label:"جاري التجهيز",icon:"fa-regular fa-rectangle-list",color:"#1CA8FF"},{label:"في الطريق",icon:"fa-solid fa-truck",color:"#1EB723"},{label:"علي وصول",icon:"fa-solid fa-hourglass-end",color:"#F17743"},{label:"وصل",icon:"fa-regular fa-clock",color:"#776155"}];a.default=()=>{let[e,a]=(0,t.useState)([{id:1,name:"التوريد للمبيعات"},{id:2,name:"التوريد للانتاج"}]),[s,o]=(0,t.useState)("اختر المخزن"),[u,m]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(o(e[0].name),m(e[0].id),"اختر المخزن"!==s){let a=e.find(e=>e.name==s);m(a.id),o(a.name)}},[e,s]);let[h,x]=(0,t.useState)(!1),j=(0,t.useRef)(null),p=e=>{o(e.name),m(e.id),x(!1),1===e.id?n.Z.get("".concat(i.Z,"/Dashboard/Track-CustomerOrders-Status")).then(e=>{g(e.data.customerOrders),S(e.data.pagination)}).catch(e=>{v(e)}):2===e.id&&n.Z.get("".concat(i.Z,"/Dashboard/Track-ProductionOrders-Status")).then(e=>{g(e.data.customerOrders),S(e.data.pagination)}).catch(e=>{v(e)})},N=e=>{j.current&&!j.current.contains(e.target)&&x(!1)};(0,t.useEffect)(()=>(document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}),[]);let[f,g]=(0,t.useState)([]),[b,v]=(0,t.useState)(null),[k,S]=(0,t.useState)({});(0,t.useEffect)(()=>{n.Z.get("".concat(i.Z,"/Dashboard/Track-CustomerOrders-Status")).then(e=>{g(e.data.customerOrders),S(e.data.pagination)}).catch(e=>{v(e)})},[]),(0,t.useEffect)(()=>{(void 0!=k.pageNumber||null!=k.pageNumber)&&(1==u?n.Z.get("".concat(i.Z,"/Dashboard/Track-CustomerOrders-Status?pageNumber=").concat(k.pageNumber)).then(e=>{g(e.data.customerOrders),S(e.data.pagination)}).catch(e=>{v(!0),l().fire({icon:"error",text:"حدث خطا اثناء جلب البيانات",timer:1200})}):2==u&&n.Z.get("".concat(i.Z,"/Dashboard/Track-ProductionOrders-Status?pageNumber=").concat(k.pageNumber)).then(e=>{g(e.data.customerOrders),S(e.data.pagination)}).catch(e=>{v(!0),l().fire({icon:"error",text:"حدث خطا اثناء جلب البيانات",timer:1200})}))},[k.pageNumber]);let w=Math.ceil(k.total/k.pageSize),D=e=>{let a=new Date(e),s=a.toLocaleDateString("ar-EG",{day:"numeric"}),r=a.toLocaleDateString("ar-EG",{month:"long"}),t=a.toLocaleDateString("ar-EG",{year:"numeric"}),c=a.toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit",hour12:!0});return"".concat(s," ").concat(r," ، ").concat(t," - ").concat(c)},[Z,E]=(0,t.useState)("");return(0,t.useEffect)(()=>{""==Z?1==u?n.Z.get("".concat(i.Z,"/Dashboard/Track-CustomerOrders-Status")).then(e=>{g(e.data.customerOrders),S(e.data.pagination)}).catch(e=>{v(e)}):2==u&&n.Z.get("".concat(i.Z,"/Dashboard/Track-ProductionOrders-Status")).then(e=>{g(e.data.customerOrders),S(e.data.pagination)}).catch(e=>{v(e)}):n.Z.get("".concat(i.Z,"/Dashboard/search-order-status?id=").concat(Z)).then(e=>{g([e.data])}).catch(e=>{v(e)})},[Z]),(0,r.jsxs)("div",{className:"current-customer-orders",children:[(0,r.jsx)(c.Z,{classFrom:"current-customer-orders",setIdSearch:E}),(0,r.jsxs)("div",{className:"head-box",children:[(0,r.jsx)("h2",{className:"title",children:"طلبيات العملاء الحالية"}),(0,r.jsxs)("div",{className:"select-wrapper",ref:j,children:[(0,r.jsxs)("div",{className:"custom-select",onClick:()=>x(!h),children:[(0,r.jsx)("span",{children:s}),(0,r.jsx)("i",{className:"bi ".concat(h?"bi-chevron-up":"bi-chevron-down")})]}),h&&(0,r.jsx)("div",{className:"custom-options",children:e.map(e=>(0,r.jsx)("div",{className:"custom-option",onClick:()=>p(e),children:e.name},e.id))})]})]}),(0,r.jsx)("div",{className:"orders",children:f.map(e=>(0,r.jsxs)("div",{className:"order-card rounded shadow ".concat("طلب"==e.statusDto.name?"box-1":"تجهيز"==e.statusDto.name?"box-2":(e.statusDto.name,"box-4")),children:[(0,r.jsxs)("div",{className:"order-header",children:[(0,r.jsxs)("span",{className:"order-number",children:["طلبية رقم ",e.id]}),(0,r.jsx)("span",{className:"order-date",children:D(e.time)})]}),(0,r.jsxs)("div",{className:"order-steps",children:[(0,r.jsx)("div",{className:"progress-line ".concat("طلب"==e.statusDto.name?"progress-line-1":"تجهيز"==e.statusDto.name?"progress-line-2":(e.statusDto.name,"progress-line-4"))}),d.map((e,a)=>(0,r.jsxs)("div",{className:"step",children:[(0,r.jsx)("i",{className:e.icon}),(0,r.jsx)("span",{className:"step-label",children:e.label})]},a))]}),"تم التسليم"==e.statusDto.name?(0,r.jsx)("div",{className:"order-footer",children:(0,r.jsxs)("div",{className:"order-status",children:[(0,r.jsx)("i",{className:"bi bi-check-circle-fill"}),(0,r.jsx)("span",{children:e.statusDto.name})]})}):null]},e.id))}),(0,r.jsx)("div",{className:"pagination-box-inventory",children:(0,r.jsx)("nav",{"aria-label":"Page navigation example",children:(0,r.jsxs)("ul",{className:"pagination",children:[(0,r.jsx)("li",{className:"page-item ".concat(!k.hasPreviousPage&&"disabled"),children:(0,r.jsx)("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:()=>{k.hasPreviousPage&&S(e=>({...e,pageNumber:e.pageNumber-1}))},children:(0,r.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),w>0&&[...Array(w).keys()].map(e=>(0,r.jsx)("li",{className:"page-item ".concat(k.pageNumber===e+1&&"active"),children:(0,r.jsx)("a",{className:"page-link",href:"#",onClick:()=>S(a=>({...a,pageNumber:e+1})),children:e+1})},e+1)),(0,r.jsx)("li",{className:"page-item ".concat(!k.hasNextPage&&"disabled"),children:(0,r.jsx)("a",{className:"page-link",href:"#","aria-label":"Next",onClick:()=>{k.hasNextPage&&S(e=>({...e,pageNumber:e.pageNumber+1}))},children:(0,r.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})}),0==f.length&&(0,r.jsxs)("div",{className:"no-orders",children:[(0,r.jsx)("i",{className:"bi bi-exclamation-circle"}),(0,r.jsx)("span",{children:"لا يوجد طلبيات حالية"})]})]})}},2315:function(e,a,s){"use strict";s.d(a,{Z:function(){return c}});var r=s(3827),t=s(4090);function c(e){let{classFrom:a,setIdSearch:s}=e,[c,n]=(0,t.useState)(!1),i=(0,t.useRef)(null),o=e=>{i.current&&!i.current.contains(e.target)&&n(!1)};return(0,t.useEffect)(()=>(document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"dashboard-nav-inventory ".concat("current-customer-orders"==a?"order-customer":""),children:[(0,r.jsx)("div",{className:"dashboard-nav-inventory-title",children:(0,r.jsx)("h3",{className:"name-section",children:"المخازن والمستودعات"})}),(0,r.jsxs)("div",{className:"dashboard-box-center",children:[(0,r.jsx)("div",{className:"search",children:(0,r.jsx)("form",{children:(0,r.jsx)("input",{type:"text",className:"search-input form-control",placeholder:"بحث",onChange:e=>s(e.target.value)})})}),(0,r.jsxs)("div",{className:"notification-box",ref:i,children:[(0,r.jsxs)("div",{className:"notification-box-icon",children:[(0,r.jsx)("div",{className:"notification-box__icon",onClick:()=>{n(!c)},children:(0,r.jsx)("i",{className:"fa-regular fa-bell"})}),(0,r.jsx)("div",{className:"notification-box__count",children:(0,r.jsx)("p",{children:"3"})})]}),(0,r.jsx)("div",{className:"notification-box__dropdown ".concat(c?"show":""),children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#",children:"الاشعار 1"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#",children:"الاشعار 2"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#",children:"الاشعار 3"})})]})})]}),(0,r.jsx)("div",{className:"icon-order",children:(0,r.jsx)("a",{href:"/admin/inventory/current-customer-orders",children:(0,r.jsx)("i",{className:"fa-solid fa-truck-fast"})})})]}),(0,r.jsx)("div",{className:"user-dropdown-box",children:(0,r.jsxs)("div",{className:"dropdown",children:[(0,r.jsx)("button",{className:"btn dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,r.jsxs)("div",{className:"user-icon-text",children:[(0,r.jsxs)("div",{className:"user-text",children:[(0,r.jsx)("p",{children:"محمد علي"}),(0,r.jsx)("p",{children:"مدير"})]}),(0,r.jsx)("div",{className:"user-icon",children:(0,r.jsx)("i",{className:"bi bi-person-circle"})})]})}),(0,r.jsxs)("ul",{className:"dropdown-menu",children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{className:"dropdown-item",href:"#",children:"Something else here"})})]})]})})]})})}s(9277)},1251:function(){},2728:function(){},9277:function(){},1555:function(e,a,s){"use strict";s.d(a,{f:function(){return r}});let r=s(8620).Buffer.from("".concat("11190013",":").concat("60-dayfreetrial"),"utf8").toString("base64");a.Z="http://16.24.26.228:8080/api"}},function(e){e.O(0,[9461,7908,5737,2971,8069,1744],function(){return e(e.s=680)}),_N_E=e.O()}]);