(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2404],{2880:function(t,e,a){Promise.resolve().then(a.bind(a,3479))},3479:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var s=a(3827),c=a(4090),r=a(1196),i=a(6136),l=a(7908),n=a(1555),o=a(3411),d=a.n(o);function h(){let[t,e]=(0,c.useState)([]),[a,i]=(0,c.useState)([]),[o,h]=(0,c.useState)([]);(0,c.useEffect)(()=>{l.Z.get("".concat(n.Z,"/Report/GetCurrentStockStatus")).then(t=>{h(t.data),l.Z.get("".concat(n.Z,"/Report/GetStockReportsOverTime?productName=").concat(t.data[0].productName)).then(t=>{let a=Array(12).fill(0),s=Array(12).fill(0);t.data.forEach(t=>{a[t.month-1]=t.quantity,s[t.month-1]=t.totalStock}),e(a),i(s),u(t.data)}).catch(t=>{d().fire({icon:"error",text:"حدث خطأ ما!"})})}).catch(t=>{d().fire({icon:"error",text:"حدث خطأ ما!"})})},[]);let[m,u]=(0,c.useState)({}),[f,x]=(0,c.useState)(0),N=(t,a)=>{x(a),l.Z.get("".concat(n.Z,"/Report/GetStockReportsOverTime?productName=").concat(t)).then(t=>{let a=Array(12).fill(0),s=Array(12).fill(0);t.data.forEach(t=>{a[t.month-1]=t.quantity,s[t.month-1]=t.totalStock}),e(a),i(s),u(t.data)}).catch(t=>{d().fire({icon:"error",text:"حدث خطأ ما!"})})},[p,j]=(0,c.useState)(""),g=t=>{j(t.target.value)},v=t=>{t.preventDefault(),l.Z.get("".concat(n.Z,"/Report/GetStockReportsOverTime?productName=").concat(p)).then(t=>{let a=Array(12).fill(0),s=Array(12).fill(0);t.data.forEach(t=>{a[t.month-1]=t.quantity,s[t.month-1]=t.totalStock}),e(a),i(s),u(t.data)}).catch(t=>{d().fire({icon:"error",text:"حدث خطأ ما!"})})};return(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"reborts-page",dir:"rtl",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("h3",{children:"تقارير المخزون"})}),(0,s.jsxs)("div",{className:"search-section",children:[(0,s.jsx)("form",{className:"search-form",dir:"rtl",onSubmit:t=>v(t),children:(0,s.jsxs)("div",{className:"form-floating mb-3",children:[(0,s.jsx)("input",{type:"text",className:"form-control",id:"floatingInput",placeholder:"ابحث هنا",onChange:t=>g(t)}),(0,s.jsx)("i",{className:"fa-solid fa-magnifying-glass"}),(0,s.jsx)("label",{htmlFor:"floatingInput",children:"ابحث هنا"})]})}),(0,s.jsx)("div",{className:"arrow-back",onClick:()=>window.history.back(),children:(0,s.jsx)("i",{className:"fa-solid fa-arrow-right"})})]}),(0,s.jsxs)("div",{className:"table-rebort-data",children:[(0,s.jsx)("div",{className:"head-box",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-4",children:(0,s.jsxs)("div",{className:"data-title",children:[(0,s.jsx)("p",{className:"text",children:"المخزون"}),(0,s.jsx)("p",{className:"text",children:"الحالة"})]})}),(0,s.jsx)("div",{className:"col-8",children:(0,s.jsx)("div",{className:"chart-title",children:(0,s.jsx)("p",{children:"التغيرات على مر الزمن"})})})]})}),(0,s.jsx)("div",{className:"body-box",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-lg-4 col-md-12",children:(0,s.jsx)("div",{className:"right-section",children:o.map((t,e)=>(0,s.jsxs)("div",{className:"item ".concat(f==e?"active":null),style:{display:t.productName.includes(p.toString())||t.status.includes(p.toString())?"flex":"none"},onClick:()=>N(t.productName,e),children:[(0,s.jsx)("div",{className:"item-name",children:(0,s.jsx)("p",{children:t.productName})}),(0,s.jsx)("div",{className:"item-status",children:(0,s.jsxs)("p",{children:[t.status," - ",t.unit]})})]},e))})}),(0,s.jsx)("div",{className:"col-lg-8 col-md-12",children:(0,s.jsx)("div",{className:"left-section",children:(0,s.jsx)(r.$Q,{options:{plugins:{legend:{labels:{font:{size:18,weight:"bold"}}}},responsive:!0,scales:{x:{stacked:!0,ticks:{font:{size:16,weight:"bold"}}},y:{stacked:!0,position:"right",ticks:{font:{size:15,weight:"bold"}}}}},data:{labels:["يناير","فبراير","مارس","إبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],datasets:[{label:"المخزون الحالى",data:t,backgroundColor:"rgba(206, 194, 176, 1)"},{label:"المخزون الكلى",data:a,backgroundColor:"rgba(207, 90, 90, 1)"}]}})})})]})})]})]})})}i.kL.register(i.uw,i.f$,i.ZL,i.Dx,i.u,i.De)},1555:function(t,e,a){"use strict";a.d(e,{f:function(){return s}});let s=a(8620).Buffer.from("".concat("11190013",":").concat("60-dayfreetrial"),"utf8").toString("base64");e.Z="http://16.24.26.228:8080/api"}},function(t){t.O(0,[9461,7674,7908,1796,2971,8069,1744],function(){return t(t.s=2880)}),_N_E=t.O()}]);